{% extends "base.html" %}


{% block section %}
{% if user.is_authenticated %}

<div class="col-md-12 my-md-5">
        <div class="row justify-content-md-center">
                <!--Form con los datos-->
                <div class="card white col-md-auto rounded">
                    <div class="card-img-top">
                        <img class="z-depth-2 rounded-circle"  src="https://i1.wp.com/www.winhelponline.com/blog/wp-content/uploads/2017/12/user.png?fit=256%2C256&quality=100&ssl=1"
                            width="250" height="100" alt="Card image cap">
                        <a href="#!">
                            <div class="mask rgba-white-slight"></div>
                        </a>
                    </div>
        
                    <div class="card-body">
                        <h4 class="card-title text-info text-center"> Datos Personales</h4>
                        <form action="/accounts/user_profile/" method="POST" class="md-form">
        
                            {%csrf_token%}
                            {% load widget_tweaks %}
                            <!--Primera fila -->
        
                            <!--Fist name-->
                            <div class="row justify-content-md-center">
                                <div class="md-form ">
                                    {% render_field form_user.first_name class+="form-control" value=user.first_name %}
                                    <label>Nombre(s)</label>
                                    {{from_user.first_name.errors}}
        
                                </div>
                                <!--Last name-->
                                <div class="md-form  ml-md-4">
                                    {% render_field form_user.last_name class+="form-control" value=user.last_name %}
                                    <label>Apellidos</label>
                                    {{form_user.last_name.errors}}
                                </div>
        
                            </div>
                            <!--Segunda fila -->
                            <div class="row justify-content-md-center">
                                <!--Username-->
                                <div class="md-form  ml-md-4">
                                    {% render_field form_user.username class+="form-control" value=user.username %}
                                    <label>Nombre de Usuario</label>
                                    {{form_user.username.errors}}
                                </div>
                                <div class="md-form ml-md-4">
                                    {% render_field form_user.email class+="form-control" value=user.email %}
                                    <label>Email</label>
                                    {{form_user.email.errors}}
                                </div>
                                <div class="md-form ml-md-4">
                                    {% render_field form_profile.telefono_particular class+="form-control" value=profile.telefono_particular %}
                                    <label>Telefono Particular</label>
                                    {{form_profile.telefono_particular.errors}}
                                </div>
                            </div>
        
                            <!--Tercera Fila-->
                            <h4 class="card-title text-info text-center"> Datos Academicos</h4>
        
                            <div class="row justify-content-md-center">
                                <div class="md-form ml-md-4">
                                    <label>Nombramiento</label>
                                    <input type="text" class="form-control" disabled value="{{profile.get_nombramiento_display}}">
                                </div>
                                <div class="md-form  ml-md-4">
                                    <label>Grado</label>
                                    <input type="text" class="form-control" disabled value="{{profile.get_grado_display}}">
                                </div>
                                <div class="md-form  ml-md-4">
                                    <label>Puesto</label>
                                    <input type="text" class="form-control" disabled value="{{profile.get_puesto_display}}">
                                </div>
        
                            </div>
                            <!--Cuarta Fila-->
                            <div class="row justify-content-md-center">
                                <div class="md-form ml-md-4">
                                    {% render_field form_profile.departamento class+="form-control" value=profile.departamento%}
                                    <label>Departamento</label>
                                    {{form_profile.departamento.errors}}
                                </div>
                                <div class="md-form ml-md-4">
                                    {% render_field form_profile.RFC class+="form-control" value=profile.RFC %}
                                    <label>RFC</label>
                                    {{form_profile.RFC.errors}}
                                </div>
                                <div class="md-form ml-md-4">
                                    {% render_field form_profile.CURP class+="form-control" value=profile.CURP %}
                                    <label>CURP</label>
                                    {{form_profile.CURP.errors}}
                                </div>
                            </div>
        
                            <div class="row justify-content-md-center">
                                    <input type="submit" value="Guardar Cambios" class="btn btn-outline-info">
                            </div>
                            
                        </form>
        
                    </div>
                </div>
                <!--
        <div class="card white col-md-4 rounded">
                    <h3 class="card-title text-info">Aclaraciones</h3>
        
                    <div class="card-body text-justify">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                La contrase単a por medidas de seguridad no es posible cambiarla en este apartado.
                                puede cambiar su contrase単a en la barra desplegable de arriba en la seccion "Cambiar
                                Contrase単a"
                                o en link abajo <br>
                                <div class="row justify-content-md-center">
                                    <a href="{% url 'password_change' %}">Cambiar Contrase単a</a>
                                </div>
        
                            </li>
                            <li class="list-group-item">
                                Si desea cambiar solamente su Nombre de Usuario o Email existe una opcion para esto en
                                el menu desplegable de la barra de navegacion. <br>
                                <div class="row justify-content-md-between">
                                    <a href="{%url 'update_username'%}">Cambiar Nombre de Usuario</a>
                                    <a href="{%url 'update_email'%}"> Cambiar Email</a>
                                </div>
        
                            </li>
                            <li class="list-group-item">
                                Los apartados Nombramiento, Grado y Puesto no son posibles de modificar por el usuario,
                                si existe algun error favor de hablarlo con el personal de Desarrollo Academico.
                            </li>
        
                        </ul>
                    </div>
                </div>
               -->
        
            </div>
        
</div>
 
{% else %}

{% include "noAuth.html" %}

{% endif %}
{% endblock section %}